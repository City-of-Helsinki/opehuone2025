(()=>{var e={873:(e,t,r)=>{var n=r(325).Symbol;e.exports=n},932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},882:e=>{e.exports=function(e,t,r,n){var o=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++o]);++o<a;)r=t(r,e[o],o,e);return r}},74:e=>{e.exports=function(e){return e.split("")}},733:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},552:(e,t,r)=>{var n=r(873),o=r(659),a=r(350),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},171:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},160:e=>{e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(o);++n<o;)a[n]=e[n+t];return a}},556:(e,t,r)=>{var n=r(873),o=r(932),a=r(449),i=r(394),s=n?n.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return u?u.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},754:(e,t,r)=>{var n=r(160);e.exports=function(e,t,r){var o=e.length;return r=void 0===r?o:r,!t&&r>=o?e:n(e,t,r)}},507:(e,t,r)=>{var n=r(754),o=r(698),a=r(912),i=r(222);e.exports=function(e){return function(t){t=i(t);var r=o(t)?a(t):void 0,s=r?r[0]:t.charAt(0),u=r?n(r,1).join(""):t.slice(1);return s[e]()+u}}},539:(e,t,r)=>{var n=r(882),o=r(828),a=r(645),i=RegExp("['’]","g");e.exports=function(e){return function(t){return n(a(o(t).replace(i,"")),e,"")}}},647:(e,t,r)=>{var n=r(171)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=n},840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},659:(e,t,r)=>{var n=r(873),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[s]=r:delete e[s]),o}},698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},434:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},325:(e,t,r)=>{var n=r(840),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},912:(e,t,r)=>{var n=r(74),o=r(698),a=r(54);e.exports=function(e){return o(e)?a(e):n(e)}},54:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",l=c+u+"(?:\\u200d(?:"+[a,i,s].join("|")+")"+c+u+")*",d="(?:"+[a+n+"?",n,i,s,r].join("|")+")",f=RegExp(o+"(?="+o+")|"+d+l,"g");e.exports=function(e){return e.match(f)||[]}},225:e=>{var t="\\ud800-\\udfff",r="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+a+"]",s="\\d+",u="["+r+"]",c="["+n+"]",l="[^"+t+a+s+r+n+o+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+o+"]",h="(?:"+c+"|"+l+")",m="(?:"+p+"|"+l+")",v="(?:['’](?:d|ll|m|re|s|t|ve))?",b="(?:['’](?:D|LL|M|RE|S|T|VE))?",g="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",x="[\\ufe0e\\ufe0f]?",w=x+g+"(?:\\u200d(?:"+["[^"+t+"]",d,f].join("|")+")"+x+g+")*",y="(?:"+[u,d,f].join("|")+")"+w,k=RegExp([p+"?"+c+"+"+v+"(?="+[i,p,"$"].join("|")+")",m+"+"+b+"(?="+[i,p+h,"$"].join("|")+")",p+"?"+h+"+"+v,p+"+"+b,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,y].join("|"),"g");e.exports=function(e){return e.match(k)||[]}},58:(e,t,r)=>{var n=r(792),o=r(539)((function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)}));e.exports=o},792:(e,t,r)=>{var n=r(222),o=r(808);e.exports=function(e){return o(n(e).toLowerCase())}},828:(e,t,r)=>{var n=r(647),o=r(222),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(a,n).replace(i,"")}},449:e=>{var t=Array.isArray;e.exports=t},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},394:(e,t,r)=>{var n=r(552),o=r(346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},222:(e,t,r)=>{var n=r(556);e.exports=function(e){return null==e?"":n(e)}},808:(e,t,r)=>{var n=r(507)("toUpperCase");e.exports=n},645:(e,t,r)=>{var n=r(733),o=r(434),a=r(222),i=r(225);e.exports=function(e,t,r){return e=a(e),void 0===(t=r?void 0:t)?o(e)?i(e):n(e):e.match(t)||[]}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(58),t=r.n(e);const n=e=>{const t=document.querySelector(".main-nav"),r=t?t.offsetHeight:0,n="string"==typeof e?document.querySelector(e):e;n&&window.scrollTo({top:n.offsetTop-r,behavior:"smooth"})},o=e=>{const t=document.getElementById(e);if(!t)throw Error("Cannot find "+e);return JSON.parse(t.innerHTML)},a=document.querySelector(".side-links-list__edit-link"),i=document.querySelector(".side-links-list-box"),s=a?.querySelector("span"),u=document.querySelector(".side-links-list__reset-btn"),c=document.querySelector(".side-links-list__reset-btn--final"),l=document.querySelector(".own-links__submit-btn"),d=document.querySelector("#own-link-name"),f=document.querySelector("#own-link-url"),p=document.querySelector(".own-links__add-new-form-notifications"),h=document.querySelector("#own-links__add-new-form"),m=document.querySelector(".side-links-list"),v=o("opehuone-variables"),b=()=>{(()=>{if(!a||!i||!s)return;const e=s.textContent;a.addEventListener("click",(()=>{i.classList.toggle("side-links-list-box--modification-ongoing"),s.textContent=s.textContent===e?"Poistu muokkaustilasta":e}))})(),u&&u.addEventListener("click",(()=>{c.classList.remove("side-links-list__reset-btn--final--hidden")})),h&&h.addEventListener("submit",(e=>{e.preventDefault();let t=!0,r=d.value.trim();const n=f.value.trim();r||(t=!1),(e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(n)||(t=!1),r.length>50&&(r=r.slice(0,50)),p.style.display="block",t?(p.textContent="Uutta linkkiä lisätään...",l.classList.add("is-disabled"),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"add_new_own_link",userId:v.userId,urlName:r,url:n,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{l.classList.remove("is-disabled"),d.value="",f.value="",m.appendChild(((e,t)=>{const r=document.createElement("li");return r.classList.add("side-links-list__item"),r.innerHTML=`\n        <a href="${e}"\n           class="side-links-list__link"\n           target="_blank">\n            ${t}\n        </a>\n        <button class="side-links-list__remove-btn side-links-list__remove-btn--custom"\n                aria-label="Poista tämä linkki"\n                data-custom-link-name="${t}"\n                data-custom-link-url="${e}">\n            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n              <g fill="none" fill-rule="evenodd">\n                <rect width="24" height="24"></rect>\n                <path fill="currentColor" d="M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 Z M15,7.5 L16.5,9 L13.5,12 L16.5,15 L15,16.5 L12,13.5 L9,16.5 L7.5,15 L10.5,12 L7.5,9 L9,7.5 L12,10.5 L15,7.5 Z"></path>\n              </g>\n            </svg>\n        </button>\n    `,r})(n,r)),setTimeout((()=>{p.innerHTML="Linkki lisätty.",setTimeout((()=>{p.style.display="none"}),300)}),100)})).catch((e=>console.error("AJAX Error:",e)))):p.textContent="Linkin lisääminen ei onnistunut. Annoithan linkille nimen ja osoitteen. Huomaathan, että linkin pitää alkaa joko http:// tai https://."})),document.addEventListener("click",(e=>{const t=e.target.closest(".side-links-list__remove-btn--custom");if(!t)return;e.preventDefault();const r=t.getAttribute("data-custom-link-url"),n=t.getAttribute("data-custom-link-name"),o=t.closest(".side-links-list__item");o&&o.remove(),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove_custom_link",userId:v.userId,url:r,urlName:n,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{alert("Linkki poistettu.")})).catch((e=>console.error("AJAX Error:",e)))})),document.addEventListener("click",(e=>{const t=e.target.closest(".side-links-list__remove-btn--default");if(!t)return;e.preventDefault();const r=t.getAttribute("data-link-url"),n=t.closest(".side-links-list__item");n&&n.remove(),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove_default_link",userId:v.userId,url:r,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{alert("Linkki poistettu.")})).catch((e=>console.error("AJAX Error:",e)))})),c&&c.addEventListener("click",(e=>{e.preventDefault(),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"reset_own_links",user_id:v.userId,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{location.reload()})).catch((e=>console.error("AJAX Error:",e)))}))},g=o("opehuone-variables"),x=o("opehuone-variables"),w=e=>{if(!e)return;const t=e.getAttribute("data-target");e.addEventListener("change",(r=>{if(r.target.classList.contains("front-page-posts-filter__checkbox-input")){const r=Array.from(e.querySelectorAll(".front-page-posts-filter__checkbox-input:checked")).map((e=>e.value));fetch(x.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:`update_front_page_${t}`,cornerLabels:r,userId:x.userId})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{const r="posts"===t?".b-posts-row":".b-training-row",n=document.querySelector(r);n&&(n.innerHTML=e.data.output)})).catch((e=>console.error("AJAX Error:",e)))}}))},y=document.querySelector(".profile-opener"),k=document.querySelector(".profile-opener-dropdown"),L={init(){(()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);t&&n(t)}})(),document.querySelectorAll(".wp-block-post-content a").forEach((e=>{e.addEventListener("click",(t=>{const r=e.getAttribute("href");if(r&&-1!==r.indexOf("#")){t.preventDefault();const e="#"+r.split("#")[1],o=document.querySelector(e);o&&n(o)}}))})),b(),document.addEventListener("click",(e=>{const t=e.target.closest(".service-failure__toggler");if(!t)return;const r=t.closest(".service-failure");r&&r.classList.toggle("service-failure--read-more-open")})),document.addEventListener("click",(e=>{const t=e.target.closest(".b-post__pinner");if(!t)return;const r=t.getAttribute("data-action"),n=t.getAttribute("data-post-id");r&&n?fetch(g.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:r,userId:g.userId,postId:n,nonce:g.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{"favs_add"===r?(t.innerHTML='<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="21" cy="21" r="21" fill="white" fill-opacity="0.85"></circle>\n  <path d="M28 31V11H14V31L21 26.5L28 31Z" fill="#008741" stroke="#008741" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n</svg>',t.setAttribute("data-action","favs_remove"),t.setAttribute("aria-label","Poista sivu kirjanmerkeistä")):(t.innerHTML='<svg width="42" height="46" viewBox="0 0 42 46" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="21" cy="21.3828" r="21" fill="white" fill-opacity="0.8"></circle>\n  <path d="M28 31.3828V11.3828H14V31.3828L21 26.8828L28 31.3828Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n</svg>',t.setAttribute("data-action","favs_add"),t.setAttribute("aria-label","Lisää sivu kirjanmerkkeihin"))})).catch((e=>console.error("AJAX Error:",e))):console.error("Missing data attributes: action or postId.")})),w(document.querySelector("#front-page-filter-posts")),w(document.querySelector("#front-page-filter-training")),y&&k&&y.addEventListener("click",(()=>{const e=y.closest(".profile-opener-wrapper");if(e){const t=e.classList.toggle("profile-opener-wrapper--dropdown-open");y.setAttribute("aria-expanded",t),y.setAttribute("aria-label",t?"Sulje profiilivalinnat":"Avaa profiilivalinnat")}}))},finalize(){}},A=document.querySelector(".user-settings-form__submit-button"),S=o("opehuone-variables"),_={init(){const e=document.getElementById("user-settings");e&&e.addEventListener("submit",(function(t){t.preventDefault(),A.classList.add("is-disabled");const r=A.textContent;A.textContent="Asetuksia päivitetään";const n=new FormData(e),o={};n.forEach(((e,t)=>{"cornerlabels[]"===t?(o[t]=o[t]||[],o[t].push(e)):o[t]=e})),fetch(S.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_user_settings",userId:S.userId,cornerLabels:o["cornerlabels[]"],nonce:S.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{A.textContent="Asetukset päivitetty",setTimeout((()=>{A.classList.remove("is-disabled"),A.textContent=r}),3e3)})).catch((e=>console.error("AJAX Error:",e)))}))},finalize(){}},E=e=>{const t="true"===e.getAttribute("aria-expanded")?"false":"true";e.setAttribute("aria-expanded",t)},T={init(){document.querySelectorAll("#sidebar-nav .sidemenu-current-page-ancestor, #sidebar-nav .sidemenu-current-page").forEach((e=>{e.classList.add("sidemenu-page-item--opened");const t=e.querySelector('button[data-page-nav-toggle="sub-menu"]');t&&E(t)})),document.querySelectorAll(".sidemenu-toggle").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget,r=t.closest("li.sidemenu-page-item");r&&r.classList.toggle("sidemenu-page-item--opened"),E(t)}))}))},finalize(){}},j=o("opehuone-variables"),q=document.querySelector("#training-archive-number-of-posts"),P=e=>{e.preventDefault();const t=document.querySelector("#training-archive-cornerlabels").value,r=document.querySelector("#training-archive-training_theme").value;fetch(j.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_training_archive_results",cornerLabel:t,trainingTheme:r})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{const t=document.querySelector("#training-archive-results");t&&(t.innerHTML=e.data.output),q.innerHTML=e.data.totalPosts})).catch((e=>console.error("AJAX Error:",e)))},C={init(){(()=>{const e=document.querySelector(".training-archive-filtering");e&&e.addEventListener("submit",P)})()},finalize(){}},U=o("opehuone-variables"),O=document.querySelector(".posts-archive__load-more-btn"),I=e=>Array.isArray(e)?e.join(","):"",H=o("opehuone-variables"),D=document.querySelector("#posts-archive-number-of-posts"),R=document.querySelector("#posts-archive-results"),M=(e,t)=>{const r=t.replace(/([\[\]])/g,"\\$1"),n=e.querySelectorAll(`input[type="checkbox"][name="${r}"]:checked`);return Array.from(n).map((e=>e.value))},$=()=>{const e=document.querySelector(".posts-archive-filtering");var t,r;e&&e.addEventListener("submit",(t=>((e,t)=>{e.preventDefault();const r=M(t,"cornerlabels[]"),n=M(t,"category[]"),o=M(t,"post_tag[]");fetch(H.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_posts_archive_results",cornerLabels:r,categories:n,postTags:o,userId:H.userId})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{R&&(R.innerHTML=e.data.output),D.innerHTML=e.data.totalPosts,((e,t,r,n)=>{O.classList.remove("is-disabled"),O.setAttribute("data-total-posts",e),O.setAttribute("data-posts-offset",15),O.setAttribute("data-cornerlabels",I(t)),O.setAttribute("data-categories",I(r)),O.setAttribute("data-post-tags",I(n)),e<=15&&O.classList.add("is-disabled")})(e.data.totalPosts,r,n,o)})).catch((e=>console.error("AJAX Error:",e)))})(t,e))),document.querySelectorAll(".checkbox-filter__filter-btn").forEach((e=>{const t=e.getAttribute("aria-label")||"Näytä valinnat";e.addEventListener("click",(r=>{r.preventDefault();const n="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",(!n).toString()),e.setAttribute("aria-label",n?t:"Piilota valinnat")})),e.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())}))})),document.querySelectorAll(".checkbox-filter__checkbox-input").forEach((e=>{e.addEventListener("keydown",(t=>{"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.checked=!e.checked,e.dispatchEvent(new Event("change")))}))})),document.querySelectorAll(".checkbox-filter__checkboxes-reset-btn").forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const r=e.closest(".posts-archive__select-filter-wrapper");r&&r.querySelectorAll(".checkbox-filter__checkbox-input:checked").forEach((e=>{e.checked=!1,e.dispatchEvent(new Event("change"))}))}))})),t="load_more_posts_archive_results",r=R,O.addEventListener("click",(e=>{e.preventDefault(),O.classList.add("is-disabled");const n=parseInt(O.getAttribute("data-posts-offset")),o=O.getAttribute("data-cornerlabels"),a=O.getAttribute("data-categories"),i=O.getAttribute("data-post-tags");fetch(U.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:t,cornerLabels:o,categories:a,postTags:i,userId:U.userId,offset:n})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{r&&r.insertAdjacentHTML("beforeend",e.data.output),(e=>{const t=parseInt(O.getAttribute("data-total-posts")),r=15+e;O.setAttribute("data-posts-offset",r),r<t&&O.classList.remove("is-disabled")})(n)})).catch((e=>console.error("AJAX Error:",e)))}))},N={init(){$()},finalize(){}},z=new class{constructor(e){this.routes=e}fire(e,t="init",r){""!==e&&this.routes[e]&&"function"==typeof this.routes[e][t]&&this.routes[e][t](r)}loadEvents(){this.fire("common"),document.body.className.toLowerCase().replace(/-/g,"_").split(/\s+/).map(t()).forEach((e=>{this.fire(e),this.fire(e,"finalize")})),this.fire("common","finalize")}}({common:L,pageTemplateUserSettings:_,pageTemplateWithSidemenu:T,postTypeArchiveTraining:C,blog:N});document.addEventListener("DOMContentLoaded",(()=>z.loadEvents()))})()})();