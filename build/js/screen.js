(()=>{var e={873:(e,t,r)=>{var n=r(325).Symbol;e.exports=n},932:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},882:e=>{e.exports=function(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}},74:e=>{e.exports=function(e){return e.split("")}},733:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},552:(e,t,r)=>{var n=r(873),o=r(659),i=r(350),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},171:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},160:e=>{e.exports=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}},556:(e,t,r)=>{var n=r(873),o=r(932),i=r(449),s=r(394),u=n?n.prototype:void 0,a=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return a?a.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},754:(e,t,r)=>{var n=r(160);e.exports=function(e,t,r){var o=e.length;return r=void 0===r?o:r,!t&&r>=o?e:n(e,t,r)}},507:(e,t,r)=>{var n=r(754),o=r(698),i=r(912),s=r(222);e.exports=function(e){return function(t){t=s(t);var r=o(t)?i(t):void 0,u=r?r[0]:t.charAt(0),a=r?n(r,1).join(""):t.slice(1);return u[e]()+a}}},539:(e,t,r)=>{var n=r(882),o=r(828),i=r(645),s=RegExp("['’]","g");e.exports=function(e){return function(t){return n(i(o(t).replace(s,"")),e,"")}}},647:(e,t,r)=>{var n=r(171)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=n},840:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},659:(e,t,r)=>{var n=r(873),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,u=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[u]=r:delete e[u]),o}},698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},434:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},325:(e,t,r)=>{var n=r(840),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},912:(e,t,r)=>{var n=r(74),o=r(698),i=r(54);e.exports=function(e){return o(e)?i(e):n(e)}},54:e=>{var t="\\ud800-\\udfff",r="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+n+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",l=c+a+"(?:\\u200d(?:"+[i,s,u].join("|")+")"+c+a+")*",d="(?:"+[i+n+"?",n,s,u,r].join("|")+")",f=RegExp(o+"(?="+o+")|"+d+l,"g");e.exports=function(e){return e.match(f)||[]}},225:e=>{var t="\\ud800-\\udfff",r="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+i+"]",u="\\d+",a="["+r+"]",c="["+n+"]",l="[^"+t+i+u+r+n+o+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+o+"]",h="(?:"+c+"|"+l+")",m="(?:"+p+"|"+l+")",v="(?:['’](?:d|ll|m|re|s|t|ve))?",x="(?:['’](?:D|LL|M|RE|S|T|VE))?",w="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",k=b+w+"(?:\\u200d(?:"+["[^"+t+"]",d,f].join("|")+")"+b+w+")*",g="(?:"+[a,d,f].join("|")+")"+k,y=RegExp([p+"?"+c+"+"+v+"(?="+[s,p,"$"].join("|")+")",m+"+"+x+"(?="+[s,p+h,"$"].join("|")+")",p+"?"+h+"+"+v,p+"+"+x,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u,g].join("|"),"g");e.exports=function(e){return e.match(y)||[]}},58:(e,t,r)=>{var n=r(792),o=r(539)((function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)}));e.exports=o},792:(e,t,r)=>{var n=r(222),o=r(808);e.exports=function(e){return o(n(e).toLowerCase())}},828:(e,t,r)=>{var n=r(647),o=r(222),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,n).replace(s,"")}},449:e=>{var t=Array.isArray;e.exports=t},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},394:(e,t,r)=>{var n=r(552),o=r(346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},222:(e,t,r)=>{var n=r(556);e.exports=function(e){return null==e?"":n(e)}},808:(e,t,r)=>{var n=r(507)("toUpperCase");e.exports=n},645:(e,t,r)=>{var n=r(733),o=r(434),i=r(222),s=r(225);e.exports=function(e,t,r){return e=i(e),void 0===(t=r?void 0:t)?o(e)?s(e):n(e):e.match(t)||[]}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(58),t=r.n(e);const n=e=>{const t=document.querySelector(".main-nav"),r=t?t.offsetHeight:0,n="string"==typeof e?document.querySelector(e):e;n&&window.scrollTo({top:n.offsetTop-r,behavior:"smooth"})},o=e=>{const t=document.getElementById(e);if(!t)throw Error("Cannot find "+e);return JSON.parse(t.innerHTML)},i=document.querySelector(".side-links-list__edit-link"),s=document.querySelector(".side-links-list-box"),u=i?.querySelector("span"),a=document.querySelector(".side-links-list__reset-btn"),c=document.querySelector(".side-links-list__reset-btn--final"),l=document.querySelector(".own-links__submit-btn"),d=document.querySelector("#own-link-name"),f=document.querySelector("#own-link-url"),p=document.querySelector(".own-links__add-new-form-notifications"),h=document.querySelector("#own-links__add-new-form"),m=document.querySelector("#user-custom-side-links-list"),v=o("opehuone-variables"),x=()=>{(()=>{if(!i||!s||!u)return;const e=u.textContent;i.addEventListener("click",(()=>{s.classList.toggle("side-links-list-box--modification-ongoing"),u.textContent=u.textContent===e?"Poistu muokkaustilasta":e}))})(),a.addEventListener("click",(()=>{c.classList.remove("side-links-list__reset-btn--final--hidden")})),h.addEventListener("submit",(e=>{e.preventDefault();let t=!0,r=d.value.trim();const n=f.value.trim();r||(t=!1),(e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol})(n)||(t=!1),r.length>50&&(r=r.slice(0,50)),p.style.display="block",t?(p.textContent="Uutta linkkiä lisätään...",l.classList.add("is-disabled"),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"add_new_own_link",userId:v.userId,urlName:r,url:n,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{l.classList.remove("is-disabled"),d.value="",f.value="",m.appendChild(((e,t)=>{const r=document.createElement("li");return r.classList.add("side-links-list__item"),r.innerHTML=`\n        <a href="${e}"\n           class="side-links-list__link"\n           target="_blank">\n            ${t}\n        </a>\n        <button class="side-links-list__remove-btn side-links-list__remove-btn--custom"\n                aria-label="Poista tämä linkki"\n                data-custom-link-name="${t}"\n                data-custom-link-url="${e}">\n            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n              <g fill="none" fill-rule="evenodd">\n                <rect width="24" height="24"></rect>\n                <path fill="currentColor" d="M12,3 C7.02943725,3 3,7.02943725 3,12 C3,16.9705627 7.02943725,21 12,21 C16.9705627,21 21,16.9705627 21,12 C21,7.02943725 16.9705627,3 12,3 Z M15,7.5 L16.5,9 L13.5,12 L16.5,15 L15,16.5 L12,13.5 L9,16.5 L7.5,15 L10.5,12 L7.5,9 L9,7.5 L12,10.5 L15,7.5 Z"></path>\n              </g>\n            </svg>\n        </button>\n    `,r})(n,r)),setTimeout((()=>{p.innerHTML="Linkki lisätty.",setTimeout((()=>{p.style.display="none"}),300)}),100)})).catch((e=>console.error("AJAX Error:",e)))):p.textContent="Linkin lisääminen ei onnistunut. Annoithan linkille nimen ja osoitteen. Huomaathan, että linkin pitää alkaa joko http:// tai https://."})),document.addEventListener("click",(e=>{const t=e.target.closest(".side-links-list__remove-btn--custom");if(!t)return;e.preventDefault();const r=t.getAttribute("data-custom-link-url"),n=t.getAttribute("data-custom-link-name"),o=t.closest(".side-links-list__item");o&&o.remove(),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove_custom_link",userId:v.userId,url:r,urlName:n,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{alert("Linkki poistettu.")})).catch((e=>console.error("AJAX Error:",e)))})),document.addEventListener("click",(e=>{const t=e.target.closest(".side-links-list__remove-btn--default");if(!t)return;e.preventDefault();const r=t.getAttribute("data-link-url"),n=t.closest(".side-links-list__item");n&&n.remove(),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove_default_link",userId:v.userId,url:r,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{alert("Linkki poistettu.")})).catch((e=>console.error("AJAX Error:",e)))})),c.addEventListener("click",(e=>{e.preventDefault(),fetch(v.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"reset_own_links",user_id:v.userId,nonce:v.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{location.reload()})).catch((e=>console.error("AJAX Error:",e)))}))},w=o("opehuone-variables"),b=o("opehuone-variables"),k={init(){(()=>{const e=window.location.hash;if(e){const t=document.querySelector(e);t&&n(t)}})(),document.querySelectorAll(".wp-block-post-content a").forEach((e=>{e.addEventListener("click",(t=>{const r=e.getAttribute("href");if(r&&-1!==r.indexOf("#")){t.preventDefault();const e="#"+r.split("#")[1],o=document.querySelector(e);o&&n(o)}}))})),x(),document.addEventListener("click",(e=>{const t=e.target.closest(".service-failure__toggler");if(!t)return;const r=t.closest(".service-failure");r&&r.classList.toggle("service-failure--read-more-open")})),document.addEventListener("click",(e=>{const t=e.target.closest(".b-post__pinner");if(!t)return;const r=t.getAttribute("data-action"),n=t.getAttribute("data-post-id");r&&n?fetch(w.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:r,userId:w.userId,postId:n,nonce:w.opehuoneNonce})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((()=>{"favs_add"===r?(t.innerHTML='<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="21" cy="21" r="21" fill="white" fill-opacity="0.85"></circle>\n  <path d="M28 31V11H14V31L21 26.5L28 31Z" fill="#008741" stroke="#008741" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n</svg>',t.setAttribute("data-action","favs_remove"),t.setAttribute("aria-label","Poista sivu kirjanmerkeistä")):(t.innerHTML='<svg width="42" height="46" viewBox="0 0 42 46" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="21" cy="21.3828" r="21" fill="white" fill-opacity="0.8"></circle>\n  <path d="M28 31.3828V11.3828H14V31.3828L21 26.8828L28 31.3828Z" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n</svg>',t.setAttribute("data-action","favs_add"),t.setAttribute("aria-label","Lisää sivu kirjanmerkkeihin"))})).catch((e=>console.error("AJAX Error:",e))):console.error("Missing data attributes: action or postId.")})),(()=>{const e=document.querySelector(".front-page-posts-filter__posts-form");e&&e.addEventListener("change",(t=>{if(t.target.classList.contains("front-page-posts-filter__checkbox-input")){const t=Array.from(e.querySelectorAll(".front-page-posts-filter__checkbox-input:checked")).map((e=>e.value));fetch(b.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_front_page_posts",cornerLabels:t,userId:b.userId})}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((e=>{const t=document.querySelector(".b-posts-row");t&&(t.innerHTML=e.data.output)})).catch((e=>console.error("AJAX Error:",e)))}}))})()},finalize(){}},g=new class{constructor(e){this.routes=e}fire(e,t="init",r){""!==e&&this.routes[e]&&"function"==typeof this.routes[e][t]&&this.routes[e][t](r)}loadEvents(){this.fire("common"),document.body.className.toLowerCase().replace(/-/g,"_").split(/\s+/).map(t()).forEach((e=>{this.fire(e),this.fire(e,"finalize")})),this.fire("common","finalize")}}({common:k});document.addEventListener("DOMContentLoaded",(()=>g.loadEvents()))})()})();